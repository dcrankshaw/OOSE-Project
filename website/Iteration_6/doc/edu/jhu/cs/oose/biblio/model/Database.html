<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Dec 14 23:49:09 EST 2011 -->
<TITLE>
Database
</TITLE>

<META NAME="date" CONTENT="2011-12-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Database";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Database.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Category.html" title="class in edu.jhu.cs.oose.biblio.model"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/EditorManager.html" title="class in edu.jhu.cs.oose.biblio.model"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/jhu/cs/oose/biblio/model/Database.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Database.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.jhu.cs.oose.biblio.model</FONT>
<BR>
Class Database&lt;T extends <A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Keyed.html" title="interface in edu.jhu.cs.oose.biblio.model">Keyed</A>&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>edu.jhu.cs.oose.biblio.model.Database&lt;T&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>T</CODE> - the type that should be returned by the query</DL>
<HR>
<DL>
<DT><PRE>public class <B>Database&lt;T extends <A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Keyed.html" title="interface in edu.jhu.cs.oose.biblio.model">Keyed</A>&gt;</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
When we execute a query, Hibernate will create new objects for the records in
 the database. This creates inconsistencies in our application, because now
 different parts are referencing different objects that refer to the same
 underlying thing. Instead, we send queries to this object, which executes
 them and then replaces new objects with ones that have already been created.
 This class need to know about every class that is stored in the database.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.util.Map&lt;java.lang.Class&lt;?&gt;,<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="class in edu.jhu.cs.oose.biblio.model">Database</A>&lt;?&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#caches">caches</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A map from a class to the Database object that deals with queries
 returning that type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#isTransactionOpen">isTransactionOpen</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicate if current session has opened a transaction</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map&lt;java.lang.Integer,<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#objectCache">objectCache</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A mapping from primary key to the actual object of things that have
 already been created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;org.hibernate.SessionFactory</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#sessionFactory">sessionFactory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A factory for sessions for interacting with the Database.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#Database(java.lang.Class)">Database</A></B>(java.lang.Class&lt;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt;&nbsp;resultType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes a new Database interface for queries of the given type.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#add(T)">add</A></B>(<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&nbsp;newObj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new object to the memory cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#attachAll()">attachAll</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attaches all of this database's objects to Hibernate</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#commit()">commit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commit the transaction and close the session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.util.Map&lt;java.lang.Class&lt;?&gt;,<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="class in edu.jhu.cs.oose.biblio.model">Database</A>&lt;?&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#createDatabases()">createDatabases</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the mapping from types to the right database for that type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#delete(T)">delete</A></B>(<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&nbsp;oldObj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the given object from the memory cache and the DB</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#executeCriteria(org.hibernate.Criteria)">executeCriteria</A></B>(org.hibernate.Criteria&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes the given criteria, attaching all known objects
 to the Session before execution to ensure that there is one
 copy of each object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#executeQuery(org.hibernate.Query)">executeQuery</A></B>(org.hibernate.Query&nbsp;q)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes the given query, attaching all known objects
 to the Session before execution to ensure that there is one
 copy of each object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="class in edu.jhu.cs.oose.biblio.model">Database</A>&lt;?&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#get(java.lang.Class)">get</A></B>(java.lang.Class&lt;?&gt;&nbsp;cl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the database that deals with queries for instances of type cl.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.hibernate.Session</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#getNewSession()">getNewSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open a new session and begin transaction</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.hibernate.Session</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#getSession()">getSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the current running session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Tag.html" title="class in edu.jhu.cs.oose.biblio.model">Tag</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#getTag(java.lang.String)">getTag</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds the Tag with the given name if it exists</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#isSessionOpen()">isSessionOpen</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if there is an open session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#rollback()">rollback</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rollback the transaction and close the session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html#update(java.lang.Object)">update</A></B>(java.lang.Object&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the given object in the DB</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="sessionFactory"><!-- --></A><H3>
sessionFactory</H3>
<PRE>
private static org.hibernate.SessionFactory <B>sessionFactory</B></PRE>
<DL>
<DD>A factory for sessions for interacting with the Database. This is
 probably the best place for this. Can we put a decorator on here that
 redirects criteria to this class?
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="isTransactionOpen"><!-- --></A><H3>
isTransactionOpen</H3>
<PRE>
private static boolean <B>isTransactionOpen</B></PRE>
<DL>
<DD>Indicate if current session has opened a transaction
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="caches"><!-- --></A><H3>
caches</H3>
<PRE>
private static java.util.Map&lt;java.lang.Class&lt;?&gt;,<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="class in edu.jhu.cs.oose.biblio.model">Database</A>&lt;?&gt;&gt; <B>caches</B></PRE>
<DL>
<DD>A map from a class to the Database object that deals with queries
 returning that type.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="objectCache"><!-- --></A><H3>
objectCache</H3>
<PRE>
private java.util.Map&lt;java.lang.Integer,<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A> extends <A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Keyed.html" title="interface in edu.jhu.cs.oose.biblio.model">Keyed</A>&gt; <B>objectCache</B></PRE>
<DL>
<DD>A mapping from primary key to the actual object of things that have
 already been created.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Database(java.lang.Class)"><!-- --></A><H3>
Database</H3>
<PRE>
private <B>Database</B>(java.lang.Class&lt;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt;&nbsp;resultType)</PRE>
<DL>
<DD>Initializes a new Database interface for queries of the given type. This
 should only ever be called from createDatabases(), so it is kind of a
 multi-singleton...
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>resultType</CODE> - the type that queries to this database return</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createDatabases()"><!-- --></A><H3>
createDatabases</H3>
<PRE>
private static java.util.Map&lt;java.lang.Class&lt;?&gt;,<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="class in edu.jhu.cs.oose.biblio.model">Database</A>&lt;?&gt;&gt; <B>createDatabases</B>()</PRE>
<DL>
<DD>Creates the mapping from types to the right database for that type.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a map from types to the database interface for that type</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Class)"><!-- --></A><H3>
get</H3>
<PRE>
public static <A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="class in edu.jhu.cs.oose.biblio.model">Database</A>&lt;?&gt; <B>get</B>(java.lang.Class&lt;?&gt;&nbsp;cl)</PRE>
<DL>
<DD>Returns the database that deals with queries for instances of type cl.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cl</CODE> - the type the query should return
<DT><B>Returns:</B><DD>the database for these kinds of queries</DL>
</DD>
</DL>
<HR>

<A NAME="executeQuery(org.hibernate.Query)"><!-- --></A><H3>
executeQuery</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt; <B>executeQuery</B>(org.hibernate.Query&nbsp;q)</PRE>
<DL>
<DD>Executes the given query, attaching all known objects
 to the Session before execution to ensure that there is one
 copy of each object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>q</CODE> - the query to execute
<DT><B>Returns:</B><DD>the results, using currently existing objects</DL>
</DD>
</DL>
<HR>

<A NAME="executeCriteria(org.hibernate.Criteria)"><!-- --></A><H3>
executeCriteria</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&gt; <B>executeCriteria</B>(org.hibernate.Criteria&nbsp;c)</PRE>
<DL>
<DD>Executes the given criteria, attaching all known objects
 to the Session before execution to ensure that there is one
 copy of each object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - the criteria to execute
<DT><B>Returns:</B><DD>the results, using currently existing objects</DL>
</DD>
</DL>
<HR>

<A NAME="add(edu.jhu.cs.oose.biblio.model.Keyed)"><!-- --></A><A NAME="add(T)"><!-- --></A><H3>
add</H3>
<PRE>
public void <B>add</B>(<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&nbsp;newObj)</PRE>
<DL>
<DD>Adds a new object to the memory cache. This object is assumed to be the
 original object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newObj</CODE> - the new object to track</DL>
</DD>
</DL>
<HR>

<A NAME="delete(edu.jhu.cs.oose.biblio.model.Keyed)"><!-- --></A><A NAME="delete(T)"><!-- --></A><H3>
delete</H3>
<PRE>
public void <B>delete</B>(<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Database.html" title="type parameter in Database">T</A>&nbsp;oldObj)</PRE>
<DL>
<DD>Removes the given object from the memory cache and the DB
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oldObj</CODE> - the object to remove</DL>
</DD>
</DL>
<HR>

<A NAME="update(java.lang.Object)"><!-- --></A><H3>
update</H3>
<PRE>
public static void <B>update</B>(java.lang.Object&nbsp;obj)</PRE>
<DL>
<DD>Updates the given object in the DB
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - the object to sync to the DB</DL>
</DD>
</DL>
<HR>

<A NAME="getTag(java.lang.String)"><!-- --></A><H3>
getTag</H3>
<PRE>
public static <A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Tag.html" title="class in edu.jhu.cs.oose.biblio.model">Tag</A> <B>getTag</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Finds the Tag with the given name if it exists
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the Tag to fine
<DT><B>Returns:</B><DD>the Tag named name, or null if it does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="isSessionOpen()"><!-- --></A><H3>
isSessionOpen</H3>
<PRE>
public static boolean <B>isSessionOpen</B>()</PRE>
<DL>
<DD>Check if there is an open session
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if there is an open session, false if not</DL>
</DD>
</DL>
<HR>

<A NAME="getSession()"><!-- --></A><H3>
getSession</H3>
<PRE>
public static org.hibernate.Session <B>getSession</B>()</PRE>
<DL>
<DD>Get the current running session
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current session, null if there is no open session</DL>
</DD>
</DL>
<HR>

<A NAME="getNewSession()"><!-- --></A><H3>
getNewSession</H3>
<PRE>
public static org.hibernate.Session <B>getNewSession</B>()</PRE>
<DL>
<DD>Open a new session and begin transaction
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Session the session just opened, return null if there is already an open session</DL>
</DD>
</DL>
<HR>

<A NAME="commit()"><!-- --></A><H3>
commit</H3>
<PRE>
public static boolean <B>commit</B>()</PRE>
<DL>
<DD>Commit the transaction and close the session
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if succeed, false if not</DL>
</DD>
</DL>
<HR>

<A NAME="rollback()"><!-- --></A><H3>
rollback</H3>
<PRE>
public static boolean <B>rollback</B>()</PRE>
<DL>
<DD>Rollback the transaction and close the session
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if succeed, false if not</DL>
</DD>
</DL>
<HR>

<A NAME="attachAll()"><!-- --></A><H3>
attachAll</H3>
<PRE>
private void <B>attachAll</B>()</PRE>
<DL>
<DD>Attaches all of this database's objects to Hibernate
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Database.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/Category.html" title="class in edu.jhu.cs.oose.biblio.model"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../edu/jhu/cs/oose/biblio/model/EditorManager.html" title="class in edu.jhu.cs.oose.biblio.model"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/jhu/cs/oose/biblio/model/Database.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Database.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
